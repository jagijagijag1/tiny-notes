---
title: Github Actionを途中まで試して諦めたメモ
date: 2019-10-19T23:03:49+0900
tags:
- GitHub
- GitHub Actions
categories:
- 開発メモ
author: jagijagijag1

status: public
created_at: 2019-10-19 23:03:49 +0900
updated_at: 2019-10-19 23:03:49 +0900
published_at: 2019-10-19 23:03:49 +0900
---
- YAMLで書く
- `on`でトリガにするイベントを書く
    - 例えば`issues`で`closed`したとき，`push`があったときなど
- `jobs`で実行するタスクを書く
    - まず`runs-on`で実行するDockerイメージのベースを選ぶ
    - 次に`steps`に実行するコマンドを書いていく
        - `env`で環境変数設定できる，このときリポジトリ側で設定しておいたSecretsを参照できる
            - `{{ secrets.XXX }}` の記法
            - リポジトリでの設定はSettingタブからSecretsを選択
                - Github Actionsのベータに登録しておかないと表示されない
        - どうやって`on`のイベント情報ひろうかとか，任意のプログラムを実行するかとかは未調査

```yaml
name: CI

on:
  issues:
    type: closed

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Run a one-line script
      env:
        ENV_XXX: {{ secrets.XXX }}
      run: echo Hello, world!
    - name: Run a multi-line script
      run: |
        echo Add other actions to build,
        echo test, and deploy your project.

```
